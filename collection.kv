#:include tutorialscreen.kv
#:include gameplayscreen.kv
#:include endgamescreen.kv
#:include playernamepopup.kv

# All classes related to the intro screen

<PlayerSection@Button>:
    value: 0
    font_size: '30dp'
    text: str(self.value) + ' Players' if self.value > 1 else '1 Player'


<CollectionTitle@Label>:
    text: '[color=ff3333]Col[/color][color=3333ff]lec[/color][color=33ff33]tion[/color]'
    markup: True
    font_size: '40sp'

<SettingButton@Button>:
    text: 'Settings'
    background_color: 102/255., 102/255., 0/255., 0.8
    size_hint_y: 0.8
    font_size: '25dp'
    halign: 'center'
    on_press:
        app.open_settings()

<GameLayout>:
    id: screenManager
    Screen:
        id: frontpage
        name: 'screen1'
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 0.8
            Rectangle:
                pos: self.pos
                size: self.size        
        BoxLayout:
            orientation: "vertical"
            CollectionTitle:       
            GridLayout:
                size_hint_y: 3
                cols: 2
                spacing: '30dp'
                padding: '30dp'
                PlayerSection:
                    value: 1
                    on_press: root.goToGameScreen()
                PlayerSection:
                    value: 2
                    on_press: root.player_name_popup(2)
                PlayerSection:
                    value: 3
                    on_press: root.player_name_popup(3)
                PlayerSection:
                    value: 4
                    on_press: root.player_name_popup(4)  
            BoxLayout:
                Widget:
                BoxLayout:
                    orientation: "vertical"
                    Widget:
                    SettingButton:
                Widget:
    GamePlayScreen:
        goToIntro: root.goToIntro
        number_of_players: root.number_of_players
        name_of_players: root.name_of_players
        scores_of_players: root.scores_of_players
        game: root
        active: root.active
    EndGameScreen:
        id: gameoverpage
        name: 'screen3'
        name_of_players: root.name_of_players
        scores_of_players: root.scores_of_players
        screenManager: root
        number_of_players: root.number_of_players
        game: root
    Screen:
        name: 'tutorialFlow'
        TutorialScreen:
            goToIntro: root.goToIntro
            active: root.active
            goToGameScreen: root.goToGameScreen
