#:include tutorialscreen.kv
#:include gameplayscreen.kv
#:include endgamescreen.kv
#:include playernamepopup.kv

# All classes related to the intro screen

<PlayerSection@Button>:
    value: 0
    font_size: '30sp'
    text: str(self.value) + ' Players' if self.value > 1 else '1 Player'

<CollectionTitle@Label>:
    text: '[color=ff3333]Col[/color][color=3333ff]lec[/color][color=33ff33]tion[/color]'
    markup: True
    font_size: '40sp'

<GameLayout>:
    id: screenManager
    Screen:
        id: frontpage
        name: 'screen1'
        BoxLayout:
            orientation: "vertical"
            CollectionTitle:       
            GridLayout:
                size_hint_y: 3
                cols: 2
                spacing: '30dp'
                padding: '30dp'
                PlayerSection:
                    value: 1
                    on_press: root.goToGameScreen()
                PlayerSection:
                    value: 2
                    on_press: root.player_name_popup(2)
                PlayerSection:
                    value: 3
                    on_press: root.player_name_popup(3)
                PlayerSection:
                    value: 4
                    on_press: root.player_name_popup(4)  
            BoxLayout:
                Widget: # Blank widgets..
                BoxLayout:
                    orientation: "vertical"
                    Widget:
                    Button:
                        text: 'Settings'
                        size_hint_y: 0.8
                        on_press: app.open_settings()
                Widget:
    GamePlayScreen:
        goToIntro: root.goToIntro
        number_of_players: root.number_of_players
        name_of_players: root.name_of_players
        scores_of_players: root.scores_of_players
        game: root
        active: root.active
    EndGameScreen:
        id: gameoverpage
        name: 'screen3'
        name_of_players: root.name_of_players
        scores_of_players: root.scores_of_players
        screenManager: root
        number_of_players: root.number_of_players
        game: root
    Screen:
        name: 'tutorialFlow'
        TutorialScreen: # The tutorial screen is a screenmanager
            goToIntro: root.goToIntro
            active: root.active
            goToGameScreen: root.goToGameScreen
