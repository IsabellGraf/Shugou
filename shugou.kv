#:include tutorialscreen.kv
#:include gameplayscreen.kv
#:include endgamescreen.kv
#:include playernamepopup.kv

# All classes related to the intro screen

<PlayerSection>:
    background_normal: 'images/players.png'
    border: 2,2,2,2
    value: 0
    font_size: '30dp'
    text: str(self.value) + ' Players' if self.value > 1 else '1 Player'

<ShugouTitle@Label>:
    text: '[color=ff3333]Sh[/color][color=3333ff]ug[/color][color=33ff33]ou[/color]'
    markup: True
    font_size: '40dp'

<SettingButton@Button>:
    #background_color: 102/255., 102/255., 0/255., 0
    background_color: 1, 1, 1, 1
    Image:
        source: "images/gear.png"
        x: self.parent.x + self.parent.width/2 - self.width/2

<GameLayout>:
    id: screenManager
    Screen:
        id: frontpage
        name: 'intro'
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 0.8
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: "vertical"
            ShugouTitle:
            GridLayout:
                size_hint_y: 3
                cols: 2
                spacing: '30dp'
                padding: '30dp'
                PlayerSection:
                    value: 1
                    on_press: root.player_name_popup(self.value)
                PlayerSection:
                    value: 2
                    on_press: root.player_name_popup(self.value)
                PlayerSection:
                    value: 3
                    on_press: root.player_name_popup(self.value)
                PlayerSection:
                    value: 4
                    on_press: root.player_name_popup(self.value)
            BoxLayout:
                Widget:
                BoxLayout:
                    orientation: "vertical"
                    #Widget:
                    SettingButton:
                        on_press:
                            app.open_settings()
                Widget:
                
    GamePlayScreen:
        on_enter: app.music.currentSong = 'main_game'
        goToIntro: root.goToIntro
        directory: root.directory
        id: gameplayscreen
        number_of_players: root.number_of_players
        name_of_players: root.name_of_players
        aiActivated: root.aiActivated
        aiScore: root.aiScore
        game: root
        active: root.active

    EndGameScreen:
        id: gameoverpage
        name: 'end'
        number_of_players: root.number_of_players
        name_of_players: root.name_of_players[:root.number_of_players]
        scores_of_players: gameplayscreen.scores_of_players[:root.number_of_players]
        aiActivated: root.aiActivated
        aiScore: root.aiScore
        game: root
